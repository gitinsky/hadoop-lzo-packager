Overview
===================
This project is a convenient mechanism of quickly building the LZO codec
for Hadoop and then packaging it as an RPM or Debian package.

It automates the following three steps:

1) Checks out a copy of the most recent version of hadoop-lzo
2) Moves the packaging metadata into place
3) Builds binary packages for deb or RPM

Requirements:
====================

- java (preferably sun's JDK)
  - JAVA_HOME must be set in your environment
- appropriate package building tools for your platform
  - yum install rpm-build        (RedHat based)
  - apt-get install dev-scripts  (Debian based)

When you try to build for your platform, build dependency errors will also
inform you of any other packages you may need to install (eg lzo2 devel
packages, ant, etc)

Usage:
====================
To build packages, simply run the included shell script.

  ./run.sh

We recommend you run this on the same platform as your tasktrackers so
as to be sure the built libraries are compatible.

Various options are available, to get help do:

  ./run.sh -h

After running the script, you should be able to find debs in the build/deb
directory and RPMs in the build/topdir/RPMS directory.


Troubleshooting
=====================
- If you have rpmbuild installed but do not wish to build RPMs, or if you have
debuild installed and don't wish to build debs, you can use the --no-rpm
or --no-deb options to skip those builds.

- If the downloads fail because of certificate problems, you can do:

  WGET_OPTS=--no-check-certificate ./run.sh

- If the build fails and you find a file build/master then you have a
version of wget which does not use the filename from the redirected URL.
You can work around it with:

  WGET_OPTS=--trust-server-names=on ./run.sh

Or with both options:

  WGET_OPTS="--no-check-certificate --trust-server-names=on" ./run.sh

There are some other variables that can be overridden - simply look
at the top section of run.sh to learn what they are.


Contributing
===================
To contribute to this project, please clone its repository from
http://github.com/toddlipcon/hadoop-lzo-packager/
and commit patches to your github repository. When you would like to
submit your contribution for inclusion, send a Pull Request to the
Cloudera repository.
